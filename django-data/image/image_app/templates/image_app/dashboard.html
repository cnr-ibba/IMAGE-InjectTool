{% extends "base.html" %}

{% load submissions_tags %}

{% block title %}
  Dashboard
{% endblock title %}

{% block content %}

  <h1>Welcome {{ user.first_name|capfirst }}!</h1>

  {# ï¼ˆTODO to be replaced) #}
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

  <div class="card-deck pt-5">

    {# info on aligning cards: https://stackoverflow.com/a/48757628/4385116/ #}
    <div class="card border-primary mb-3" style="">
      <div class="card-header">
        <h4 class="my-0 font-weight-normal">Submit</h4>
      </div>
      <div class="card-body d-flex flex-column">
        <h4 class="card-title">Create New Submission</h4>
        <p class="card-text">Upload your data into InjectTool and start a new submission!</p>
        <div class="text-center mt-auto">
          <a class="btn btn-primary btn-lg col-lg-4" href="{% url 'submissions:create' %}" role="button">Create</a>
        </div>
      </div>
    </div> <!-- card submit -->

    {# call a custom templatetag and send result into a variable #}
    {% have_submission user as submissions %}

    <div class="card border-primary mb-3" style="">
      <div class="card-header">
        <h4 class="my-0 font-weight-normal">View</h4>
      </div>
      <div class="card-body d-flex flex-column">
        <h4 class="card-title">View Existing Submissions</h4>
        <p class="card-text">List all existing submissions</p>
        <div class="text-center mt-auto">
          <a class="btn btn-secondary btn-lg col-lg-4{% if not submissions %} disabled {% endif %}" href="{% url 'submissions:list' %}" role="button">List</a>
        </div>
      </div>
    </div>
    <div class="card border-info mb-3" style="">
      <div class="card-header">
        <h4 class="my-0 font-weight-normal">Summary</h4>
      </div>
      <div class="card-body d-flex flex-column">
        <h4 class="card-title">Data status Summary</h4>
        <p class="card-text">Get information about your data and submissions</p>
        <div class="text-center mt-auto">
          <a class="btn btn-info btn-lg col-lg-4" href="{% url 'image_app:summary' %}" role="button">Info</a>
        </div>
      </div>
    </div>
  </div> <!-- card-deck -->


{% endblock %}
