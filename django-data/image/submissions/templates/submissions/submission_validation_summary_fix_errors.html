{% extends "base.html" %}

{% load submissions_filters %}

{% block title %}
  Fix validation errors
{% endblock title %}

{% block content %}
    <h1>{{ message }}</h1>
    <form>
        {% for object in  object_list %}
            <hr>
            <h3>{{ object.name.name }}</h3>
            <br>
            <h6>Provided values:</h6>
            <ul class="list-group">
                {% for show in attributes_to_show %}
                    <li class="list-group-item list-group-item-info">{{ show|convert_to_human_readable }}: {{ object|getattribute:show }}</li>
                {% endfor %}
            </ul>
            <br>
            <h6>Provide value to fix validation:</h6>
            <ul class="list-group">
                {% for show in attributes_to_edit %}
                    <li class="list-group-item list-group-item-warning d-flex justify-content-between align-items-center">
                        <div class="from-group form-inline">
                            <label for="{{ object.id|create_unique_id:show }}">{{ show|convert_to_human_readable }}:</label>
                            <input type="text" class="form-control" id="{{ object.id|create_unique_id:show }}" value="{{ object|getattribute:show }}">
                        </div>
                    </li>
                {% endfor %}
            </ul>
            <br>
        {% endfor %}
        <div class="form-group">
            <button type="submit" class="btn btn-primary">Update all records</button>
        </div>
    </form>
{% endblock content %}